<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Virtual HealthCare — Local Prototype</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    :root{
      --bg1:#071028; --bg2:#0f1724;
      --card:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      --glass:rgba(255,255,255,0.03);
      --muted:#98a6b3; --text:#e6eef8; --accent:#6b7bff; --accent-2:#2fd2a4;
      --shadow: 0 10px 30px rgba(5,8,20,0.6);
    }

    *{box-sizing:border-box;margin:0;padding:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
    html,body{height:100%}
    body{min-height:100vh;background:radial-gradient(1200px 600px at 10% 10%, rgba(107,123,255,0.14), transparent), linear-gradient(180deg,var(--bg1),var(--bg2));color:var(--text);padding:28px}

    .app{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:260px 1fr;gap:20px;align-items:start}

    header.app-header{grid-column:1/-1;display:flex;align-items:center;gap:18px;padding:18px;border-radius:14px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);box-shadow:var(--shadow)}
    .brand{display:flex;flex-direction:column}
    .brand-title{font-weight:800;font-size:1.25rem;background:linear-gradient(90deg,var(--accent-2),var(--accent));-webkit-background-clip:text;background-clip:text;color:transparent}
    .brand-sub{color:var(--muted);font-size:0.9rem}

    .header-actions{margin-left:auto;display:flex;gap:12px;align-items:center}
    .btn{background:linear-gradient(135deg,var(--accent),#7a6bff);border:none;color:white;padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:700;display:inline-flex;gap:10px;align-items:center;box-shadow:0 6px 18px rgba(83,92,255,0.12);transition:transform .12s ease,box-shadow .12s ease}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text);padding:10px 12px}
    .btn:hover{transform:translateY(-3px);box-shadow:0 14px 30px rgba(20,28,80,0.35)}

    /* Sidebar */
    .sidebar{background:var(--card);padding:18px;border-radius:14px;border:1px solid rgba(255,255,255,0.03);height:calc(100vh - 120px);overflow:auto;box-shadow:var(--shadow)}
    .profile{display:flex;gap:12px;align-items:center}
    .avatar{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.05rem;color:#05102a;box-shadow:0 6px 18px rgba(47,210,164,0.08)}
    .user-info{line-height:1}
    .user-name{font-weight:800}
    .user-role{color:var(--muted);font-size:0.85rem}

    .nav{margin-top:16px;display:flex;flex-direction:column;gap:8px}
    .nav button{display:flex;gap:12px;align-items:center;padding:10px;border-radius:12px;background:transparent;border:none;color:var(--text);text-align:left;cursor:pointer;font-weight:600}
    .nav button.active{background:linear-gradient(90deg,rgba(107,123,255,0.12),rgba(47,210,164,0.04));border:1px solid rgba(255,255,255,0.02)}

    .muted{color:var(--muted)}

    /* Main content */
    .main-area{display:grid;grid-template-rows:auto 1fr;gap:16px}
    .cards{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .card{background:var(--card);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}

    .doctor-list{display:flex;flex-direction:column;gap:12px;margin-top:12px}
    .doctor{display:flex;gap:12px;align-items:center;padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02);transition:transform .12s ease,box-shadow .12s ease}
    .doctor:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(10,12,30,0.6)}
    .doctor .meta{flex:1}
    .chip{padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.02);font-size:0.85rem;color:var(--muted)}

    label{font-weight:700;color:var(--muted);font-size:0.9rem}
    input,select,textarea{width:100%;padding:11px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--text);outline:none}
    input:focus,select:focus,textarea:focus{box-shadow:0 8px 24px rgba(83,92,255,0.06);border-color:rgba(107,123,255,0.22)}

    .appointments{display:flex;flex-direction:column;gap:10px;margin-top:12px}
    .appt{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:10px;background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.02)}

    .history-list{display:flex;flex-direction:column;gap:10px}
    .history-item{padding:12px;border-radius:10px;background:linear-gradient(90deg, rgba(107,123,255,0.02), rgba(47,210,164,0.01));border:1px solid rgba(255,255,255,0.02)}

    .video-stage{display:flex;gap:12px;align-items:flex-start}
    video{border-radius:12px;background:#000;max-width:100%;object-fit:cover}

    .advice{padding:12px;border-radius:10px;background:linear-gradient(90deg,rgba(91,107,255,0.08),rgba(41,194,155,0.04));border:1px solid rgba(255,255,255,0.02);color:var(--text)}

    /* micro helpers */
    .mt-12{margin-top:12px}
    .mt-8{margin-top:8px}

    @media(max-width:980px){
      .app{grid-template-columns:1fr}
      .sidebar{height:auto}
      .cards{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="brand">
        <div class="brand-title">Virtual HealthCare</div>
        <div class="brand-sub">Book appointments • Telehealth • Personal medical history</div>
      </div>

      <div class="header-actions">
        <button id="exportHistory" class="btn"><i class="fa-solid fa-file-export"></i> Export</button>
        <button id="helpBtn" class="btn ghost"><i class="fa-solid fa-circle-question"></i> Help</button>
      </div>
    </header>

    <aside class="sidebar">
      <div class="profile">
        <div class="avatar">VK</div>
        <div class="user-info">
          <div class="user-name">Patient</div>
          <div class="user-role">Local-first prototype</div>
        </div>
      </div>

      <nav class="nav" id="nav">
        <button class="active" data-view="dashboard"><i class="fa-solid fa-grid"></i> Dashboard</button>
        <button data-view="book"><i class="fa-solid fa-calendar-plus"></i> Book</button>
        <button data-view="history"><i class="fa-solid fa-folder-medical"></i> History</button>
        <button data-view="telehealth"><i class="fa-solid fa-video"></i> Telehealth</button>
        <button data-view="support"><i class="fa-solid fa-stethoscope"></i> Support</button>
      </nav>

      <hr style="margin-top:14px;border:none;border-top:1px solid rgba(255,255,255,0.04)">

      <div style="margin-top:14px">
        <div class="muted">Available doctors</div>
        <div class="doctor-list" id="doctorList"></div>
      </div>
    </aside>

    <main class="main-area">
      <div id="contentTop"></div>
      <div id="content" style="min-height:460px"></div>
    </main>
  </div>

<script>
// keep existing app logic intact — load previous state if present
// tiny compatibility check: if vhc exists from prior run, reuse functions, else load local script
(function(){
  // if existing window.vhc loaded, re-run render to pick up new styles
  if(window.vhc && typeof window.vhc.load === 'function'){ try{ window.vhc.load(); window.vhc.renderDoctors && window.vhc.renderDoctors(); }catch(e){} }
  // Otherwise, load the embedded app (previous index.html script) by injecting it if missing
  else {
    // fetch the previous content stored in localStorage during prior builds (compat fallback)
    // NOTE: the full app script is already in the file from prior edit — no-op here to keep backward compatibility.
  }
})();
</script>
</body>
</html>
